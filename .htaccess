RewriteEngine On

# --- 1️⃣ Allow /public folder to be accessed directly ---
RewriteCond %{REQUEST_URI} ^/public(/.*)?$
RewriteRule ^ - [L]

# --- 2️⃣ Block direct HTTP access to sensitive folders ---
# These folders are still accessible to PHP includes internally.
RewriteRule ^(src|views|routes|config|SQL)(/|$) - [F,L]

# --- 3️⃣ If it's an existing file (like index.php, .htaccess), serve it normally ---
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# --- 4️⃣ Otherwise, route everything else to index.php ---
RewriteRule ^ index.php [QSA,L]